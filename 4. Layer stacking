############################LAYER STACKING##################################
#
#
#This script compiles the information that will be used in the OBIA classification
#Any questions or improvements can be emailed to Ximena Tagle: xtagle@iiap.org.pe
#
#
###SET WD
#setwd("/home/xtagle/UAV/Results/") #Linux
setwd("G:/My Drive/Monan/Taller_Oct/") #Windows

###LOAD LIBRARIES
library(raster)
library(maptools)
library(rgdal)

###Load rasters
#texture data
texture_data<-list.files(path=("./3_Texture_ext/"), (pattern="text.*.tif$"), full.names=T)
num_layer<-length(texture_data)
num_layer 

#Canopy height
CH<-raster("./4_Height/JH_1_canopyH.tif")


#Stack all the layers
raster_stack<-stack(texture_data, CH)

#Export the stack
writeRaster(raster_stack, filename="./6_Classification/layers_JH_1_5001", format="GTiff", overwrite=F)


######################################################################################
